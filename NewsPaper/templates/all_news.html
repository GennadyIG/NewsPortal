{% extends 'flatpages/default.html' %}

{% load censor %}

{% block title %}
    Новости
{% endblock title %}

{% block content %}
    <h1>Список новостей:</h1>
    <h5>Количество новостей: {{ all_news|length }}</h5>
    <p></p>
    <table align="center" style="height: 220px; display: inline-block">
        <tr style="border-bottom: 1px solid black">
            <td>
                Заголовок
            </td>
            <td style="width: 180px">
               Дата публикации
            </td>
            <td>
               Предпросмотр
            </td>
        </tr>
        {% for news in all_news %}
            <tr style="border-bottom: 1px solid black">
                <td>
                    <a class="nav-link" href="/news/{{ news.id }}">{{ news.post_title|censor }}</a>
                </td>
                <td>
                    {{ news.adding_time|date:'d M Y' }}
                </td>
                <td style="padding: 10px">
                    {{ news.post_text|truncatechars:20|censor }}
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock content %}