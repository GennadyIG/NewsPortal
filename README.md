# NewsPortal

#Проект "Новостной портал"

На данный момент сделано:

    • подготовлена база данных
    • в моделях постов и комментариев созданы методы влияющие на их рейтинг
    • реализован метод подсчитывающий общий рейтинг автора зависящий от рейтинга его постов/комментариев/комментариев к его постам
    • реализован доступ к моделям через админку сайта
    • создана страница, на которой выводится список всех новостей. Названия статей являются ссылками. Сортировка новостей происходит по дате, начиная от самой свежей.
    • созданы страницы с полной информацией о статье. Для перехода к общему списку в верхнем левом углу сделана ссылка.
    • создан фильтр, обеспечивающий цензуру
    • внутри фильтра реализована проверка на тип поступающих данных
    • реализован показ на одной странице не больше 10 новостей, видны номера только ближайших страниц, а также возможность перехода к первой или последней странице
    • реализован поиск новостей по нескольким параметрам
    • подготовлены страницы создания, редактирования и удаления новостей и статей, расположенные по следующим ссылкам:
        - /news/create/
        - /news/<int:pk>/edit/
        - /news/<int:pk>/delete/
        - /articles/create/
        - /articles/<int:pk>/edit/
        - /articles/<int:pk>/delete/
    • добавлена возможность регистрации через e-mail или аккаунт yandex
    • добавлена кнопка "Войти" если пользователь не авторизован и "Выйти" если авторизован
    • на страницие со списком новостей, если пользователю разрешено создавать новости/статьи выведены кнопки их создания
    • если пользователю разрешено изменять/удалять посты, то на странице с полным описанием будут доступны соответствующие кнопки. Кнопки видны если пользователь является автором поста или входит в группу Moderators. Реализована дополнительная проверка во view, чтобы контролировать обход этого через вбивание ссылки напрямую. 
    <h2>Модуль D6:</h2>
    • добавлены подписки на рассылки о новых материалах в категориях
    
![image](https://user-images.githubusercontent.com/120253513/229223656-1963b86d-feb4-48ec-86c9-46e6ac714ad4.png) ![image](https://user-images.githubusercontent.com/120253513/229223894-3b324488-ed7f-4fd0-af0f-e205f36c2f1d.png)

    • при публикации новости все подписчики получают сообщение на почту со ссылкой на страницу. Т.к. модель ManyToMany реализовано через m2m_changed. Если не ошибаюсь, можно сделать через post_save и transaction.on_commit, но пока не разобрался каким образом.
    
![image](https://user-images.githubusercontent.com/120253513/229226636-ae5f7fed-109e-45bc-b8a1-95cb78323b32.png)

    • реализована отправка списка статей на почту подписчиков категорий каждую пятницу в 18 00
    
![image](https://user-images.githubusercontent.com/120253513/229227861-7996f25f-b846-47a5-904e-580effbdbaa3.png)


